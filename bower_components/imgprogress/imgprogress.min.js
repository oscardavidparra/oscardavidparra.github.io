progressBar={countElmt:0,loadedElmt:0,init:function(){var a=this;this.countElmt=$("img").length;var b=$("<div/>").attr("id","progressbar-container");b.append($("<div/>").attr("id","progressbar")),b.appendTo($("body"));var c=$("<div/>").attr("id","progressbar-elements");c.appendTo($("body")),$("img").each(function(){$("<img/>").attr("src",$(this).attr("src")).on("load error",function(){a.loadedElmt++,a.updateProgressBar()}).appendTo(c)})},updateProgressBar:function(){$("#progressbar").stop().animate({width:progressBar.loadedElmt/progressBar.countElmt*100+"%"},200,"linear",function(){progressBar.loadedElmt==progressBar.countElmt&&setTimeout(function(){$("#progressbar-container").animate({top:"-8px"},function(){$("#progressbar-container").remove(),$("#progressbar-elements").remove()})},720)})}},progressBar.init();